# particle-animation

[预览地址](https://luowatson.github.io/particle-animation/)

## 原理剖析:
  ### 准备工作:
    一张用于绘图的Canvas 画布; 和一个存放粒子对象(x,y轴坐标; x,y 移动速度) 的数组 (dots);
    以及处理每一帧动画的函数(startBlinking) ——所有的动画逻辑都将在这里面进行(绘制圆点、直线...);
    还有一个用来触发(执行)每一帧动画的工具( requestAnimationFrame), 你也可以用 setTimeout / setInterval 它们的效果都是一样的
  ### 实现细节:
    循环遍历dots数组，根据粒子对象的X,Y轴坐标值在Canvas 上绘制小圆点，并检测两点之间的直线距离
    是否小于某个给定的数值，如果条件成立则对其进行连线操作; 接着检测当前鼠标是否在Canvas 画布上
    移动，如果成立则让符合条件的粒子向鼠标靠拢。 后调用requestAnimationFrame(startBlinking)
    来重复以上逻辑进行帧动画(1000 / 60 ms) ——更新粒子坐标值 (新坐标 = 旧坐标 + 速度)。
  ### 实现难点:
    1. 粒子如何进行位移 ?   => 改变粒子的坐标值; 新坐标 = 旧坐标 + 速度
    2. 粒子越界如何处理 ?   => 修改x,y轴速度值的符号位 ——正数改为负数，反之亦然
    3. 如何设置线条透明度 ? => (最大距离 - 当前距离) * 0.01 —— (100 - 当前两点间的距离) * 0.01
    4. 怎么计算两个点间的直线距离 ?  => 套用勾股定理: a²+b²=c² -> (x1-x2)² + (y1-y2)² 取其根号可得
    5. 粒子如何才能朝鼠标方向移动 ?  => (粒子坐标 - 鼠标坐标) * 0.038  ——亦是通过符号位来做的计算
